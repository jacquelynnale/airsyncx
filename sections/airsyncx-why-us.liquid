<!-- AirSyncX Why Choose Us Section -->

<section id="why-us" class="airsyncx-why-us">
  <div class="background-elements">
    <div class="bg-circle bg-circle-1"></div>
    <div class="bg-circle bg-circle-2"></div>
    <div class="bg-lines"></div>
  </div>
  
  <div class="why-us-container">
    <div class="why-us-header" data-aos="fade-up" data-aos-duration="800">
      <div class="section-eyebrow">{{ section.settings.eyebrow_text }}</div>
      <h2 class="why-us-title">{{ section.settings.title_part1 }} <span class="highlight">{{ section.settings.title_part2 }}</span></h2>
      <p class="section-description">{{ section.settings.description }}</p>
    </div>
    
    <div class="why-us-features">
      {% for block in section.blocks %}
        <div class="feature-card" data-aos="fade-up" data-aos-delay="{{ forloop.index | times: 100 }}">
          <div class="feature-icon-wrapper">
            <div class="feature-icon {{ block.settings.icon_style }}">
              {% case block.settings.icon_type %}
                {% when 'lightning' %}
                  <svg viewBox="0 0 24 24" width="60" height="60" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M13 2L4 14H11L9 22L20 10H13L13 2Z" fill="#38d2d2" stroke="#38d2d2" stroke-width="0.5"/>
                    <circle cx="10" cy="16" r="1" fill="white"/>
                    <circle cx="14" cy="6" r="1" fill="white"/>
                  </svg>
                {% when 'sync' %}
                  <svg viewBox="0 0 24 24" width="60" height="60" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="12" cy="12" r="10" stroke="#38d2d2" stroke-width="1.5"/>
                    <circle cx="6" cy="12" r="2" fill="#38d2d2"/>
                    <circle cx="18" cy="12" r="2" fill="#38d2d2"/>
                    <path d="M6 12H18" stroke="#38d2d2" stroke-width="1" stroke-dasharray="1 1"/>
                    <path class="sync-arrow" d="M12 6C16 6 16 10 16 12" stroke="#38d2d2" stroke-width="1.5" stroke-linecap="round"/>
                    <path class="sync-arrow2" d="M12 18C8 18 8 14 8 12" stroke="#38d2d2" stroke-width="1.5" stroke-linecap="round"/>
                  </svg>
                {% when 'chip' %}
                  <svg viewBox="0 0 24 24" width="60" height="60" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect x="2" y="2" width="20" height="20" rx="3" fill="#000" stroke="#38d2d2" stroke-width="1.5"/>
                    <rect x="5" y="5" width="14" height="14" rx="1" fill="#38d2d2" fill-opacity="0.3" stroke="#38d2d2" stroke-width="0.5"/>
                    <circle cx="12" cy="12" r="3" fill="#38d2d2"/>
                    <path class="chip-line1" d="M5 9L1 9" stroke="#38d2d2" stroke-width="1" stroke-linecap="round"/>
                    <path class="chip-line2" d="M5 12L1 12" stroke="#38d2d2" stroke-width="1" stroke-linecap="round"/>
                    <path class="chip-line3" d="M5 15L1 15" stroke="#38d2d2" stroke-width="1" stroke-linecap="round"/>
                    <path class="chip-line4" d="M23 9L19 9" stroke="#38d2d2" stroke-width="1" stroke-linecap="round"/>
                    <path class="chip-line5" d="M23 12L19 12" stroke="#38d2d2" stroke-width="1" stroke-linecap="round"/>
                    <path class="chip-line6" d="M23 15L19 15" stroke="#38d2d2" stroke-width="1" stroke-linecap="round"/>
                  </svg>
                {% when 'shield' %}
                  <svg viewBox="0 0 24 24" width="60" height="60" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 22C12 22 20 18 20 12V5L12 2L4 5V12C4 18 12 22 12 22Z" fill="#38d2d2" fill-opacity="0.2" stroke="#38d2d2" stroke-width="1.5"/>
                    <path class="shield-path" d="M12 19C12 19 17 16 17 12V7L12 5L7 7V12C7 16 12 19 12 19Z" fill="none" stroke="#38d2d2" stroke-width="0.5"/>
                    <path d="M9 12L11 14L15 10" stroke="#FFFFFF" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                {% else %}
                  <svg viewBox="0 0 24 24" width="60" height="60" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="12" cy="12" r="10" stroke="#38d2d2" stroke-width="1.5"/>
                    <path d="M9 12l2 2 4-4" stroke="#38d2d2" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
              {% endcase %}
            </div>
            <div class="icon-glow {{ block.settings.icon_style }}-glow"></div>
          </div>
          <h3 class="feature-title">{{ block.settings.title }}</h3>
          <p class="feature-description">{{ block.settings.description }}</p>
        </div>
      {% endfor %}
    </div>
    
    <!-- CTA Section -->
    {% if section.settings.show_cta %}
    <div class="why-us-cta">
      {% liquid
        assign button_tag = 'a'
        assign button_attrs = 'href="' | append: section.settings.primary_cta_link | append: '"'
        assign button_id = ''
        assign data_attributes = ''

        if section.settings.primary_cta_action_type == 'add_to_cart'
          assign button_tag = 'button'
          assign button_id = 'add-to-cart-why-us'
          assign data_attributes = 'data-product-id="' | append: section.settings.cta_product.id | append: '" data-variant-id="' | append: section.settings.cta_product.selected_or_first_available_variant.id | append: '"'
          assign button_attrs = 'type="button"'
        elsif section.settings.primary_cta_action_type == 'scroll_to_section'
          assign button_tag = 'button'
          assign button_attrs = 'type="button" data-action-type="scroll_to_section" data-scroll-target="#' | append: section.settings.primary_cta_scroll_target | append: '"'
        elsif section.settings.primary_cta_action_type == 'open_popup'
          assign button_tag = 'button'
          assign button_attrs = 'type="button" data-action-type="open_popup" data-popup-target="#' | append: section.settings.primary_cta_popup_target | append: '"'
        endif
      %}
      <{{ button_tag }} {{ button_attrs }} class="hero-button hero-button-primary" {% if button_id != blank %}id="{{ button_id }}"{% endif %} {{ data_attributes }}>
        <div class="button-content">
          {% if section.settings.primary_cta_action_type == 'add_to_cart' %}
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" class="button-icon">
              <circle cx="9" cy="21" r="1"></circle>
              <circle cx="20" cy="21" r="1"></circle>
              <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
            </svg>
          {% else %}
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" class="button-icon">
              <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path>
              <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
            </svg>
          {% endif %}
          <span class="button-text">{%- if section.settings.primary_cta_text != blank -%}{{ section.settings.primary_cta_text }}{%- else -%}{{ 'sections.airsyncx_why_us.order_now' | t }}{%- endif -%}</span>
        </div>
      </{{ button_tag }}>
      <a href="{{ section.settings.secondary_cta_link | default: '#comparison' }}" class="hero-button hero-button-secondary">
        <div class="button-content">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="button-icon">
            <path d="M9 12l2 2 4-4"></path>
            <path d="M21 12c0 4.97-4.03 9-9 9s-9-4.03-9-9 4.03-9 9-9c2.15 0 4.11.75 5.66 2"></path>
          </svg>
          <span class="button-text">{%- if section.settings.secondary_cta_text != blank -%}{{ section.settings.secondary_cta_text }}{%- else -%}{{ 'sections.airsyncx_why_us.comparison_table' | t }}{%- endif -%}</span>
        </div>
      </a>
    </div>
    {% endif %}
  </div>
</section>

<!-- AOS Animation Library - Reuse lazy loading from about section -->
<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Icon animations
    const connectionIcon = document.querySelector('.connection-icon');
    if (connectionIcon) {
      setInterval(() => {
        const arrows = connectionIcon.querySelectorAll('.sync-arrow, .sync-arrow2');
        arrows.forEach(arrow => {
          arrow.style.opacity = '0';
          setTimeout(() => {
            arrow.style.opacity = '1';
          }, 500);
        });
      }, 3000);
    }
    
    const performanceIcon = document.querySelector('.performance-icon');
    if (performanceIcon) {
      const chipLines = performanceIcon.querySelectorAll('.chip-line1, .chip-line2, .chip-line3, .chip-line4, .chip-line5, .chip-line6');
      let currentLine = 0;
      
      setInterval(() => {
        chipLines.forEach(line => line.style.opacity = '0.3');
        chipLines[currentLine].style.opacity = '1';
        currentLine = (currentLine + 1) % chipLines.length;
      }, 500);
    }
    
    const warrantyIcon = document.querySelector('.warranty-icon');
    if (warrantyIcon) {
      const shieldPath = warrantyIcon.querySelector('.shield-path');
      
      setInterval(() => {
        shieldPath.style.opacity = '0.8';
        setTimeout(() => {
          shieldPath.style.opacity = '0.2';
        }, 1000);
      }, 2000);
    }
    
    // Card hover effects
    const featureCards = document.querySelectorAll('.feature-card');
    
    featureCards.forEach(card => {
      card.addEventListener('mouseenter', function() {
        const iconGlow = this.querySelector('.icon-glow');
        if (iconGlow) {
          iconGlow.style.opacity = '1';
          iconGlow.style.transform = 'scale(1.2)';
        }
        
        const featureIcon = this.querySelector('.feature-icon');
        if (featureIcon) {
          featureIcon.classList.add('hover');
        }
      });
      
      card.addEventListener('mouseleave', function() {
        const iconGlow = this.querySelector('.icon-glow');
        if (iconGlow) {
          iconGlow.style.opacity = '0.4';
          iconGlow.style.transform = 'scale(1)';
        }
        
        const featureIcon = this.querySelector('.feature-icon');
        if (featureIcon) {
          featureIcon.classList.remove('hover');
        }
      });
    });
    
    // Parallax background effect
    const bgCircles = document.querySelectorAll('.bg-circle');
    
    window.addEventListener('mousemove', function(e) {
      let x = e.clientX / window.innerWidth;
      let y = e.clientY / window.innerHeight;
      
      bgCircles.forEach((circle, index) => {
        const factor = index + 1;
        circle.style.transform = `translate(${x * 25 * factor}px, ${y * 25 * factor}px)`;
      });
    });

    // Primary CTA Button Logic
    const primaryCtaButton = document.querySelector('.why-us-cta .hero-button-primary');

    if (primaryCtaButton) {
      primaryCtaButton.addEventListener('click', function(event) {
        const actionType = this.dataset.actionType;

        if (actionType === 'add_to_cart') {
          const variantId = this.getAttribute('data-variant-id');
          
          if (!variantId) {
            alert('{{ "sections.airsyncx_hero.no_product_selected" | t }}');
            return;
          }
          
          // Show loading state
          this.classList.add('loading');
          const originalText = this.querySelector('.button-text').textContent;
          const loadingText = '{{ "sections.airsyncx_hero.adding_to_cart" | t }}';
          this.querySelector('.button-text').textContent = loadingText;
          
          // Add the product to cart using the variant ID
          fetch(window.routes.cart_add_url || '/cart/add.js', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
              'Accept': 'application/json'
            },
            body: JSON.stringify({
              items: [{
                id: parseInt(variantId),
                quantity: 1
              }]
            })
          })
          .then(response => response.json())
          .then(data => {
            // Reset button state
            this.classList.remove('loading');
            this.querySelector('.button-text').textContent = originalText;
            
            if (data.status && data.status !== 200) {
              console.error('Error adding product to cart:', data);
              alert('{{ "sections.airsyncx_hero.error_adding_to_cart" | t }}');
              return;
            }
            
            // Handle post-add-to-cart action based on settings
            {% if section.settings.after_add_to_cart_action == 'go_to_cart' %}
              window.location.href = window.routes.cart_url || '/cart';
            {% else %}
              // Show success message and stay on page
              const successMessage = '{{ section.settings.success_message | default: "sections.airsyncx_hero.product_added_successfully" | t }}';
              alert(successMessage);
            {% endif %}
          })
          .catch(error => {
            console.error('Error adding product to cart:', error);
            this.classList.remove('loading');
            this.querySelector('.button-text').textContent = originalText;
            alert('{{ "sections.airsyncx_hero.error_adding_to_cart" | t }}');
          });
        } else if (actionType === 'scroll_to_section') {
          event.preventDefault();
          const target = this.dataset.scrollTarget;
          const targetElement = document.querySelector(target);
          if (targetElement) {
            targetElement.scrollIntoView({ behavior: 'smooth' });
          } else {
            console.warn(`Scroll target element not found: ${target}`);
          }
        } else if (actionType === 'open_popup') {
          event.preventDefault();
          const target = this.dataset.popupTarget;
          const popupElement = document.querySelector(target);
          if (popupElement) {
            popupElement.classList.add('is-active');
            popupElement.addEventListener('click', (e) => {
              if (e.target === popupElement) {
                popupElement.classList.remove('is-active');
              }
            });
          } else {
            console.warn(`Popup target element not found: ${target}`);
          }
        }
      });
    }
  });
</script>

<style>
  /* Optimized CSS - Removed duplicates */
  .airsyncx-why-us * {
    font-family: 'Assistant', sans-serif;
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }
  
  .airsyncx-why-us {
    background-color: #000000;
    color: #ffffff;
    padding: 120px 0;
    direction: {% if request.locale.iso_code == 'he' %}rtl{% else %}ltr{% endif %};
    position: relative;
    overflow: hidden;
  }
  
  .background-elements {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 0;
    overflow: hidden;
  }
  
  .bg-circle {
    position: absolute;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(56, 210, 210, 0.05) 0%, rgba(56, 210, 210, 0) 70%);
  }
  
  .bg-circle-1 {
    width: 600px;
    height: 600px;
    top: -300px;
    left: -200px;
    opacity: 0.4;
  }
  
  .bg-circle-2 {
    width: 500px;
    height: 500px;
    bottom: -250px;
    right: -150px;
    opacity: 0.3;
  }
  
  .bg-lines {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: linear-gradient(to right, rgba(56, 210, 210, 0.05) 1px, transparent 1px),
                      linear-gradient(to bottom, rgba(56, 210, 210, 0.05) 1px, transparent 1px);
    background-size: 40px 40px;
    opacity: 0.2;
  }
  
  .why-us-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
    position: relative;
    z-index: 1;
  }
  
  .why-us-header {
    text-align: center;
    margin-bottom: 60px;
  }
  
  .section-eyebrow {
    font-size: 2.2rem;
    font-weight: 600;
    color: #38d2d2;
    text-transform: uppercase;
    letter-spacing: 2px;
    margin-bottom: 20px;
  }
  
  .why-us-title {
    font-size: 6rem;
    font-weight: 800;
    margin-bottom: 30px;
    color: #ffffff;
    position: relative;
    display: inline-block;
    letter-spacing: -0.5px;
  }
  
  .highlight {
    color: #38d2d2;
    position: relative;
  }
  
  .highlight::after {
    content: '';
    position: absolute;
    bottom: -8px;
    right: 0;
    width: 100%;
    height: 3px;
    background-color: #38d2d2;
    transform-origin: right;
    transform: scaleX(0);
    transition: transform 0.5s ease;
  }
  
  .why-us-header:hover .highlight::after {
    transform-origin: left;
    transform: scaleX(1);
  }
  
  .section-description {
    font-size: 2.4rem;
    font-weight: 400;
    color: rgba(255, 255, 255, 0.9);
    max-width: 800px;
    margin: 0 auto;
    line-height: 1.6;
  }
  
  .why-us-features {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 30px;
    margin-bottom: 60px;
  }
  
  .feature-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    padding: 40px 25px;
    transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    background: linear-gradient(145deg, rgba(25, 25, 25, 0.1), rgba(0, 0, 0, 0.5));
    border: 1px solid rgba(56, 210, 210, 0.1);
    border-radius: 15px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    backdrop-filter: blur(5px);
    overflow: hidden;
    position: relative;
  }
  
  .feature-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(45deg, transparent, rgba(56, 210, 210, 0.03), transparent);
    z-index: -1;
    transition: all 0.5s ease;
  }
  
  .feature-card:hover {
    transform: translateY(-15px);
    box-shadow: 0 15px 35px rgba(56, 210, 210, 0.2);
    border-color: rgba(56, 210, 210, 0.3);
  }
  
  .feature-card:hover::before {
    transform: translateX(100%);
  }
  
  .feature-icon-wrapper {
    position: relative;
    margin-bottom: 30px;
  }
  
  .feature-icon {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    z-index: 2;
    transition: all 0.3s ease;
  }
  
  /* סגנונות ייחודיים לכל אייקון */
  .installation-icon {
    background: radial-gradient(ellipse at center, rgba(56, 210, 210, 0.15) 0%, rgba(0, 0, 0, 0.1) 70%);
  }
  
  .connection-icon {
    background: transparent;
  }
  
  .performance-icon {
    background: transparent;
  }
  
  .warranty-icon {
    background: transparent;
  }
  
  .feature-icon.hover {
    background-color: #38d2d2;
    transform: scale(1.1) rotate(5deg);
  }
  
  .feature-icon.hover svg path[stroke="#38d2d2"],
  .feature-icon.hover svg circle[stroke="#38d2d2"],
  .feature-icon.hover svg rect[stroke="#38d2d2"] {
    stroke: #ffffff;
  }
  
  .feature-icon.hover svg path[fill="#38d2d2"],
  .feature-icon.hover svg circle[fill="#38d2d2"],
  .feature-icon.hover svg rect[fill="#38d2d2"] {
    fill: #ffffff;
  }
  
  /* אפקטים מיוחדים לכל גלואו */
  .installation-glow {
    background: radial-gradient(ellipse at center, rgba(56, 210, 210, 0.5) 0%, rgba(56, 210, 210, 0) 70%);
  }
  
  .connection-glow {
    background: radial-gradient(circle at center, rgba(56, 210, 210, 0.4) 0%, rgba(56, 210, 210, 0) 70%);
  }
  
  .performance-glow {
    background: radial-gradient(circle at center, rgba(56, 210, 210, 0.3) 0%, rgba(56, 210, 210, 0) 70%);
  }
  
  .warranty-glow {
    background: radial-gradient(circle at center, rgba(56, 210, 210, 0.6) 0%, rgba(56, 210, 210, 0) 70%);
  }
  
  .icon-glow {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 80px;
    height: 80px;
    border-radius: 50%;
    opacity: 0.4;
    z-index: 1;
    transition: all 0.5s ease;
  }
  
  /* אנימציות */
  .sync-arrow, .sync-arrow2, .chip-line1, .chip-line2, .chip-line3, .chip-line4, .chip-line5, .chip-line6, .shield-path {
    transition: all 0.8s ease;
  }
  
  .feature-title {
    font-size: 2.8rem;
    font-weight: 700;
    margin-bottom: 15px;
    color: #ffffff;
    transition: all 0.3s ease;
  }
  
  .feature-card:hover .feature-title {
    color: #38d2d2;
  }
  
  .feature-description {
    font-size: 2rem;
    color: rgba(255, 255, 255, 0.8);
    line-height: 1.5;
    transition: all 0.3s ease;
  }
  
  .feature-card:hover .feature-description {
    color: rgba(255, 255, 255, 1);
  }
  
  /* CTA Section Styles - Using Hero Button Styles */
  .why-us-cta {
    display: flex !important;
    gap: 24px;
    margin-top: 40px;
    position: relative;
    z-index: 1000 !important;
    max-width: 100%;
    overflow: visible;
    flex-wrap: wrap;
    justify-content: center;
    align-items: center;
    width: 100%;
    visibility: visible !important;
    opacity: 1 !important;
    isolation: isolate;
    transform: translateZ(0);
  }
  
  /* Base Button Styles */
  .why-us-cta .hero-button {
    display: flex !important;
    align-items: center;
    justify-content: center;
    padding: 0;
    border-radius: 16px;
    text-decoration: none;
    font-size: 1.2rem;
    text-align: center;
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    position: relative;
    overflow: visible;
    width: 260px;
    min-width: 260px;
    max-width: min(260px, 45vw);
    font-weight: 700;
    margin: 0;
    height: 60px;
    letter-spacing: 0.3px;
    z-index: 1001 !important;
    font-family: 'Assistant', sans-serif;
    line-height: 1.4;
    box-sizing: border-box;
    border: none;
    cursor: pointer !important;
    background: rgba(0, 0, 0, 0.3);
    visibility: visible !important;
    opacity: 1 !important;
    isolation: isolate;
    pointer-events: auto !important;
  }
  
  /* Button Content Container */
  .why-us-cta .button-content {
    display: flex !important;
    align-items: center;
    justify-content: center;
    gap: 10px;
    position: relative;
    z-index: 1002 !important;
    width: 100%;
    height: 100%;
    padding: 0 24px;
    border-radius: 16px;
    transition: all 0.3s ease;
    visibility: visible !important;
    opacity: 1 !important;
    pointer-events: auto !important;
    cursor: pointer !important;
  }
  
  .why-us-cta .button-text {
    font-size: 1.4rem;
    font-weight: 800;
    letter-spacing: 0.5px;
    line-height: 1;
    text-shadow: 0 1px 2px rgba(0,0,0,0.2);
  }
  
  .why-us-cta .button-icon {
    transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));
  }
  
  /* PRIMARY BUTTON - Optimized */
  .why-us-cta .hero-button-primary {
    background: linear-gradient(135deg, #ff6b35 0%, #f7931e 50%, #ff4500 100%);
    color: #ffffff;
    box-shadow: 0 8px 20px rgba(255, 107, 53, 0.4);
    border: 2px solid rgba(255, 107, 53, 0.7);
    transform: scale(1.02);
    transition: all 0.3s ease;
  }
  
  .why-us-cta .hero-button-primary .button-text {
    font-size: 1.6rem;
    font-weight: 800;
  }

  .why-us-cta .hero-button-primary:hover {
    transform: translateY(-3px) scale(1.05);
    box-shadow: 0 12px 30px rgba(255, 107, 53, 0.6);
  }
  
  .why-us-cta .hero-button-primary:hover .button-icon {
    transform: scale(1.05);
  }
  
  .why-us-cta .hero-button-primary:active {
    transform: translateY(-1px) scale(1.01);
    box-shadow: 0 6px 15px rgba(255, 107, 53, 0.5);
  }
  
  /* SECONDARY BUTTON - Elegant Glass Effect */
  .why-us-cta .hero-button-secondary {
    background: rgba(255, 255, 255, 0.08);
    color: rgba(255, 255, 255, 0.95);
    border: 1px solid rgba(255, 255, 255, 0.2);
    box-shadow: 
      0 6px 20px rgba(0, 0, 0, 0.15),
      inset 0 1px 0 rgba(255, 255, 255, 0.1);
  }
  
  .why-us-cta .hero-button-secondary::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 16px;
    opacity: 0;
    transition: all 0.4s ease;
    z-index: 2;
  }
  
  .why-us-cta .hero-button-secondary::after {
    content: '';
    position: absolute;
    bottom: -4px;
    left: 50%;
    transform: translateX(-50%);
    width: 70%;
    height: 6px;
    background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.4) 50%, rgba(255,255,255,0) 100%);
    border-radius: 50%;
    filter: blur(3px);
    opacity: 0.4;
    transition: all 0.4s ease;
    z-index: 0;
  }
  
  .why-us-cta .hero-button-secondary:hover {
    background: rgba(255, 255, 255, 0.15);
    border-color: rgba(255, 255, 255, 0.4);
    color: #ffffff;
    transform: translateY(-4px) scale(1.02);
    box-shadow: 
      0 12px 30px rgba(0, 0, 0, 0.2),
      inset 0 1px 0 rgba(255, 255, 255, 0.2);
  }
  
  .why-us-cta .hero-button-secondary:hover::before {
    opacity: 1;
  }
  
  .why-us-cta .hero-button-secondary:hover::after {
    opacity: 0.7;
    width: 80%;
    height: 8px;
  }
  
  .why-us-cta .hero-button-secondary:hover .button-icon {
    transform: scale(1.1);
    color: rgba(255, 255, 255, 1);
  }
  
  .why-us-cta .hero-button-secondary:active {
    transform: translateY(-2px) scale(1.01);
    box-shadow: 
      0 6px 15px rgba(0, 0, 0, 0.15),
      inset 0 1px 0 rgba(255, 255, 255, 0.1);
  }
  
  /* Loading State */
  .why-us-cta .hero-button.loading {
    opacity: 0.7;
    cursor: wait;
    pointer-events: none;
  }
  
  .why-us-cta .hero-button.loading .button-content {
    opacity: 0.6;
  }
  
  @media (max-width: 1200px) {
    .why-us-features {
      grid-template-columns: repeat(2, 1fr);
      gap: 25px;
    }
    
    .why-us-title {
      font-size: 5.2rem;
    }
    
    .section-description {
      font-size: 2.2rem;
    }
    
    .why-us-cta {
      gap: 20px;
    }
    
    .why-us-cta .hero-button {
      width: 240px;
      min-width: 240px;
      max-width: min(240px, 45vw);
      height: 56px;
    }
    
    .why-us-cta .hero-button-primary .button-text {
      font-size: 1.3rem;
    }
    
    .why-us-cta .button-icon {
      width: 18px;
      height: 18px;
    }
  }
  
  @media (max-width: 768px) {
    .airsyncx-why-us {
      padding: 100px 0;
    }
    
    .why-us-header {
      margin-bottom: 60px;
    }
    
    .why-us-title {
      font-size: 4.8rem;
    }
    
    .section-eyebrow {
      font-size: 2rem;
    }
    
    .feature-title {
      font-size: 2.6rem;
    }
    
    .feature-description {
      font-size: 1.9rem;
    }
    
    .feature-icon {
      width: 70px;
      height: 70px;
    }
    
    .icon-glow {
      width: 70px;
      height: 70px;
    }
    
    .why-us-cta {
      flex-direction: column;
      gap: 16px;
      width: 100%;
      max-width: 400px;
      margin: 30px auto 0;
    }
    
    .why-us-cta .hero-button {
      width: 100%;
      min-width: 100%;
      max-width: 100%;
      height: 54px;
    }
    
    .why-us-cta .button-content {
      padding: 0 20px;
    }
    
    .why-us-cta .button-text {
      font-size: 1.1rem;
    }
    
    .why-us-cta .hero-button-primary .button-text {
      font-size: 1.3rem;
    }
    
    .why-us-cta .button-icon {
      width: 18px;
      height: 18px;
    }
  }
  
  @media (max-width: 576px) {
    .why-us-features {
      grid-template-columns: 1fr;
    }
    
    .why-us-title {
      font-size: 4.2rem;
    }
    
    .section-description {
      font-size: 2rem;
    }
    
    .feature-card {
      padding: 30px 20px;
    }
    
    .feature-title {
      font-size: 2.4rem;
    }
    
    .feature-description {
      font-size: 1.8rem;
    }
    
    .feature-icon {
      width: 60px;
      height: 60px;
    }
    
    .icon-glow {
      width: 60px;
      height: 60px;
    }
    
    .why-us-cta-primary {
      font-size: 1.5rem;
      padding: 14px 25px;
    }
    
    .why-us-cta-secondary {
      font-size: 1.3rem;
      padding: 12px 20px;
    }
  }
</style>

{% schema %}
{
  "name": "AirSyncX - למה לבחור בנו",
  "tag": "section",
  "class": "airsyncx-why-us-section",
  "settings": [
    {
      "type": "header",
      "content": "תוכן ראשי"
    },
    {
      "type": "text",
      "id": "eyebrow_text",  
      "label": "טקסט כותרת עליונה",
      "default": "למה לבחור בנו"
    },
    {
      "type": "text",
      "id": "title_part1",
      "label": "חלק ראשון של הכותרת",
      "default": "למה לבחור ב"
    },
    {
      "type": "text",
      "id": "title_part2",
      "label": "חלק שני של הכותרת (מודגש)",
      "default": "AirSyncX"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "תיאור הסקשן",
      "default": "המתאם היחיד לCarPlay אלחוטי שמספק פתרון פשוט, אמין ויעיל להפוך את חווית השימוש ברכב שלך"
    },
    {
      "type": "header",
      "content": "הגדרות כפתורי פעולה"
    },
    {
      "type": "checkbox",
      "id": "show_cta",
      "label": "הצג כפתורי פעולה",
      "default": true
    },
    {
      "type": "text",
      "id": "primary_cta_text",
      "label": "טקסט כפתור ראשי",
      "default": "הזמן עכשיו"
    },
    {
      "type": "product",
      "id": "cta_product",
      "label": "מוצר להוספה לסל",
      "info": "בחר את המוצר שיתווסף לסל בלחיצה על הכפתור הראשי"
    },
    {
      "type": "select",
      "id": "primary_cta_action_type",
      "label": "סוג פעולה לכפתור ראשי",
      "options": [
        {
          "value": "add_to_cart",
          "label": "הוספה לסל"
        },
        {
          "value": "redirect",
          "label": "הפניה לקישור"
        },
        {
          "value": "scroll_to_section",
          "label": "גלול למקטע"
        },
        {
          "value": "open_popup",
          "label": "פתח חלון קופץ"
        }
      ],
      "default": "add_to_cart",
      "info": "בחר את סוג הפעולה עבור הכפתור הראשי."
    },
    {
      "type": "url",
      "id": "primary_cta_link",
      "label": "קישור כפתור ראשי",
      "info": "יופעל רק אם נבחרה פעולת 'הפניה לקישור'"
    },
    {
      "type": "text",
      "id": "primary_cta_scroll_target",
      "label": "מזהה מקטע לגלילה",
      "info": "הכנס את מזהה המקטע (ID) אליו יש לגלול (לדוגמה, 'my-section-id')."
    },
    {
      "type": "text",
      "id": "primary_cta_popup_target",
      "label": "מזהה חלון קופץ",
      "info": "הכנס את מזהה החלון הקופץ (ID) אותו יש לפתוח (לדוגמה, 'my-popup-id')."
    },
    {
      "type": "text",
      "id": "secondary_cta_text",
      "label": "טקסט כפתור משני",
      "default": "טבלת השוואה"
    },
    {
      "type": "url",
      "id": "secondary_cta_link",
      "label": "קישור כפתור משני"
    }
  ],
  "blocks": [
    {
      "type": "feature_item",
      "name": "תכונה",
      "settings": [
        {
          "type": "select",
          "id": "icon_type",
          "label": "סוג האייקון",
          "options": [
            {
              "value": "lightning",
              "label": "ברק (התקנה מהירה)"
            },
            {
              "value": "sync",
              "label": "סנכרון (חיבור אוטומטי)"
            },
            {
              "value": "chip",
              "label": "שבב (ביצועים)"
            },
            {
              "value": "shield",
              "label": "מגן (אחריות)"
            }
          ],
          "default": "lightning"
        },
        {
          "type": "select",
          "id": "icon_style",
          "label": "סגנון אייקון",
          "options": [
            {
              "value": "installation-icon",
              "label": "התקנה"
            },
            {
              "value": "connection-icon",
              "label": "חיבור"
            },
            {
              "value": "performance-icon",
              "label": "ביצועים"
            },
            {
              "value": "warranty-icon",
              "label": "אחריות"
            }
          ],
          "default": "installation-icon"
        },
        {
          "type": "text",
          "id": "title",
          "label": "כותרת התכונה",
          "default": "התקנה מהירה"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "תיאור התכונה",
          "default": "חבר את המתאם ליציאת ה-USB ובתוך שניות תוכל להתחיל להשתמש בCarPlay אלחוטי ללא שום התקנה מסובכת."
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "AirSyncX - למה לבחור בנו",
      "blocks": [
        {
          "type": "feature_item",
          "settings": {
            "icon_type": "lightning",
            "icon_style": "installation-icon",
            "title": "התקנה מהירה",
            "description": "חבר את המתאם ליציאת ה-USB ובתוך שניות תוכל להתחיל להשתמש בCarPlay אלחוטי ללא שום התקנה מסובכת."
          }
        },
        {
          "type": "feature_item",
          "settings": {
            "icon_type": "sync",
            "icon_style": "connection-icon",
            "title": "חיבור אוטומטי",
            "description": "ברגע שאתה נכנס לרכב, המתאם מתחבר אוטומטית לטלפון שלך תוך שניות ומפעיל את CarPlay ללא מגע יד."
          }
        },
        {
          "type": "feature_item",
          "settings": {
            "icon_type": "chip",
            "icon_style": "performance-icon",
            "title": "ביצועים מעולים",
            "description": "הודות למעבד חזק ולטכנולוגיה מתקדמת, המתאם מספק חיבור יציב ואמין עם השהייה מינימלית."
          }
        },
        {
          "type": "feature_item",
          "settings": {
            "icon_type": "shield",
            "icon_style": "warranty-icon",
            "title": "אחריות מלאה",
            "description": "אנחנו מספקים אחריות לשנה מלאה על כל המוצרים שלנו, עם שירות לקוחות מקצועי וזמין."
          }
        }
      ]
    }
  ]
}
{% endschema %}